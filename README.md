# 坦克大战游戏 (Tank Battle Game)

一个使用Python和Pygame开发的经典坦克大战游戏，具有完整的游戏机制、AI敌人和多关卡系统。

## 🎮 游戏特性

- **经典玩法**: 操控坦克移动、射击，消灭所有敌人通过关卡
- **智能AI**: 敌人坦克具有不同的AI行为模式，有的会主动追击玩家
- **丰富地形**: 可摧毁的砖墙、坚固的钢墙、水域等多种地形元素
- **生命系统**: 玩家拥有多条生命，被击中后可以重生
- **关卡系统**: 多个关卡，难度逐渐增加
- **碰撞检测**: 完整的碰撞检测系统，包括坦克、子弹、地形的交互
- **游戏界面**: 实时显示分数、生命数、关卡信息等

## 🎯 游戏目标

- 消灭屏幕上的所有敌人坦克
- 通过5个关卡获得胜利
- 在保护自己的同时获得更高分数

## 🕹️ 游戏操作

| 按键 | 功能 |
|------|------|
| `WASD` 或 `方向键` | 移动坦克 |
| `空格键` | 发射子弹 |
| `P` | 暂停/继续游戏 |
| `R` | 游戏结束后重新开始 |
| `ESC` | 退出游戏 |

## 🛠️ 安装与运行

### 系统要求

- Python 3.6 或更高版本
- pygame 2.0 或更高版本

### 安装步骤

1. **克隆或下载项目**
   ```bash
   git clone <项目地址>
   cd tank-battle-game
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```
   
   或者直接安装pygame：
   ```bash
   pip install pygame
   ```

3. **运行游戏**
   ```bash
   python main.py
   ```

## 📁 项目结构

```
tank-battle-game/
│
├── main.py              # 游戏主程序入口
├── config.py            # 游戏配置和常量
├── game.py              # 游戏主类，管理游戏逻辑
├── game_map.py          # 地图类，处理地形生成和碰撞
├── tank.py              # 坦克基类
├── player_tank.py       # 玩家坦克类
├── enemy_tank.py        # 敌人坦克类（包含AI）
├── bullet.py            # 子弹类
├── requirements.txt     # 依赖包列表
└── README.md           # 项目说明文档
```

## 🏗️ 代码架构

### 主要类说明

#### 1. Game类 (`game.py`)
- **职责**: 游戏主控制器，管理游戏状态、循环和渲染
- **主要方法**:
  - `run()`: 游戏主循环
  - `update()`: 更新游戏逻辑
  - `draw()`: 渲染游戏画面
  - `handle_events()`: 处理用户输入
  - `check_collisions()`: 碰撞检测

#### 2. GameMap类 (`game_map.py`)
- **职责**: 地图生成、地形管理和碰撞检测
- **主要功能**:
  - 随机生成地图布局
  - 管理可摧毁和不可摧毁地形
  - 提供碰撞检测接口

#### 3. Tank基类 (`tank.py`)
- **职责**: 定义所有坦克的基本属性和行为
- **主要功能**:
  - 移动和方向控制
  - 射击机制
  - 碰撞检测
  - 绘制功能

#### 4. PlayerTank类 (`player_tank.py`)
- **职责**: 玩家坦克特有功能
- **特殊功能**:
  - 生命系统
  - 无敌时间和闪烁效果
  - 键盘输入处理
  - 重生机制

#### 5. EnemyTank类 (`enemy_tank.py`)
- **职责**: AI控制的敌人坦克
- **AI功能**:
  - 自动寻路和移动
  - 玩家检测和追击
  - 智能射击决策
  - 避障行为

#### 6. Bullet类 (`bullet.py`)
- **职责**: 子弹的物理和渲染
- **主要功能**:
  - 移动和轨迹计算
  - 碰撞检测
  - 生命周期管理

### 设计模式

1. **面向对象设计**: 每个游戏元素都是独立的类，便于维护和扩展
2. **继承机制**: PlayerTank和EnemyTank继承自Tank基类，代码复用性好
3. **组合模式**: Game类组合各个子系统，实现松耦合设计
4. **策略模式**: 不同类型的敌人坦克有不同的AI策略

## ⚙️ 配置说明

在`config.py`中可以调整游戏参数：

```python
# 屏幕设置
SCREEN_WIDTH = 800      # 屏幕宽度
SCREEN_HEIGHT = 600     # 屏幕高度
FPS = 60               # 帧率

# 坦克设置
TANK_SIZE = 30         # 坦克大小
TANK_SPEED = 3         # 坦克移动速度

# 游戏设置
PLAYER_LIVES = 3       # 玩家生命数
ENEMY_COUNT = 3        # 每关敌人数量
```

## 🎨 游戏画面元素

- **绿色坦克**: 玩家坦克，中心有白色圆点标识
- **红色坦克**: 普通敌人坦克，中心有黑色三角形标识
- **浅红色坦克**: 智能敌人坦克，AI更强
- **棕色方块**: 可摧毁的砖墙
- **灰色方块**: 不可摧毁的钢墙
- **蓝色方块**: 水域（装饰性）
- **黄色圆点**: 子弹

## 🔧 扩展功能建议

如果想要扩展游戏，可以考虑添加：

1. **道具系统**: 加血包、武器升级、护盾等
2. **音效系统**: 射击音效、爆炸音效、背景音乐
3. **更多敌人类型**: 不同速度、血量的敌人
4. **Boss战**: 特殊的Boss敌人
5. **多人模式**: 双人合作或对战
6. **关卡编辑器**: 自定义地图编辑功能
7. **存档系统**: 保存游戏进度和最高分

## 🐛 故障排除

### 常见问题

1. **ModuleNotFoundError: No module named 'pygame'**
   - 解决方案: 安装pygame库 `pip install pygame`

2. **游戏运行缓慢**
   - 检查系统性能，降低FPS或减小屏幕分辨率

3. **中文显示问题**
   - 确保系统支持UTF-8编码

### 技术支持

如果遇到问题，请检查：
1. Python版本是否为3.6+
2. pygame是否正确安装
3. 所有源文件是否在同一目录下

## 📄 许可证

本项目采用MIT许可证。

## 🤝 贡献

欢迎提交Issues和Pull Requests来改进游戏！

## 🎯 学习价值

这个项目适合学习：
- Python面向对象编程
- Pygame游戏开发基础
- 游戏循环和状态管理
- 碰撞检测算法
- AI算法基础
- 软件架构设计

---

**开始你的坦克大战之旅吧！** 🎮
